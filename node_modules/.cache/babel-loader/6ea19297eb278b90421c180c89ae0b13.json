{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _entries = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/entries\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _isNan = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/number/is-nan\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _RESTController = _interopRequireDefault(require(\"./RESTController\"));\n\nvar DEEP_INDEX_API_HOST = 'deep-index.moralis.io';\nvar DEEP_INDEX_SWAGGER_PATH = '/api-docs/v2/swagger.json';\n\nvar fetchSwaggerJson = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n    var _yield$RESTController, response;\n\n    return _regenerator.default.wrap(function (_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _RESTController.default.ajax('GET', \"https://\".concat(DEEP_INDEX_API_HOST).concat(DEEP_INDEX_SWAGGER_PATH));\n\n          case 2:\n            _yield$RESTController = _context.sent;\n            response = _yield$RESTController.response;\n            return _context.abrupt(\"return\", response);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function () {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getPathByTag = function (swaggerJSON) {\n  var _context2;\n\n  var pathByTag = {};\n  var pathDetails = {};\n  (0, _map.default)(_context2 = (0, _entries.default)(swaggerJSON.paths)).call(_context2, function (_ref2) {\n    var _context3;\n\n    var _ref3 = (0, _slicedToArray2.default)(_ref2, 2),\n        pathName = _ref3[0],\n        requestData = _ref3[1];\n\n    return (0, _forEach.default)(_context3 = (0, _entries.default)(requestData)).call(_context3, function (_ref4) {\n      var _ref5 = (0, _slicedToArray2.default)(_ref4, 2),\n          method = _ref5[0],\n          data = _ref5[1];\n\n      var tags = data.tags;\n\n      if (tags.length > 0) {\n        if (!pathByTag[tags[0]]) {\n          pathByTag[tags[0]] = [];\n        }\n\n        pathByTag[tags[0]].push(data.operationId);\n        pathDetails[data.operationId] = {\n          method: method,\n          pathName: pathName,\n          data: data\n        };\n      }\n    });\n  });\n  return {\n    pathByTag: pathByTag,\n    pathDetails: pathDetails\n  };\n};\n\nvar fetchEndpoints = /*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n    var _context4;\n\n    var swaggerJSON, _yield$getPathByTag, pathDetails, data;\n\n    return _regenerator.default.wrap(function (_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return fetchSwaggerJson();\n\n          case 2:\n            swaggerJSON = _context5.sent;\n            _context5.next = 5;\n            return getPathByTag(swaggerJSON);\n\n          case 5:\n            _yield$getPathByTag = _context5.sent;\n            pathDetails = _yield$getPathByTag.pathDetails;\n            data = [];\n            (0, _forEach.default)(_context4 = (0, _keys.default)(pathDetails)).call(_context4, function (x) {\n              var item = pathDetails[x];\n              var endpoint = {\n                method: item.method.toUpperCase(),\n                group: item.data.tags[0],\n                name: x,\n                url: item.pathName.split('{').join(':').split('}').join('')\n              };\n              data.push(endpoint);\n            });\n            return _context5.abrupt(\"return\", data);\n\n          case 10:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function () {\n    return _ref6.apply(this, arguments);\n  };\n}();\n/**\n * Compares if the semantic version of version1 is larger than version2\n */\n\n\nvar isSemanticVersionLarger = function (version1, version2) {\n  var _context6, _context7;\n\n  var _version1$split = version1.split('-'),\n      _version1$split2 = (0, _slicedToArray2.default)(_version1$split, 2),\n      version1Main = _version1$split2[0],\n      version1Pre = _version1$split2[1];\n\n  var version1Arr = (0, _map.default)(_context6 = version1Main.split('.')).call(_context6, function (s) {\n    return Number(s);\n  });\n\n  var _version2$split = version2.split('-'),\n      _version2$split2 = (0, _slicedToArray2.default)(_version2$split, 2),\n      version2Main = _version2$split2[0],\n      version2Pre = _version2$split2[1];\n\n  var version2Arr = (0, _map.default)(_context7 = version2Main.split('.')).call(_context7, function (s) {\n    return Number(s);\n  });\n\n  for (var index = 0; index < 3; index++) {\n    var compare1 = version1Arr[index];\n    var compare2 = version2Arr[index];\n    if (compare1 > compare2) return true;\n    if (compare1 < compare2) return false;\n    if (!(0, _isNan.default)(compare1) && (0, _isNan.default)(compare2)) return true;\n    if ((0, _isNan.default)(compare1) && !(0, _isNan.default)(compare2)) return false;\n  } // Compare pre-releasees if main versions are the same\n\n\n  if (version1Pre && version2Pre) {\n    var _version1Pre$split$, _version2Pre$split$;\n\n    var version1PreNumber = (_version1Pre$split$ = version1Pre.split('.')[1]) !== null && _version1Pre$split$ !== void 0 ? _version1Pre$split$ : 0;\n    var version2PreNumber = (_version2Pre$split$ = version2Pre.split('.')[1]) !== null && _version2Pre$split$ !== void 0 ? _version2Pre$split$ : 0;\n    return version1PreNumber > version2PreNumber;\n  } // If version2 is a pre-release and version1 is not, then version 1 is newer\n\n\n  if (version2Pre) {\n    return true;\n  }\n\n  return false;\n};\n\nvar checkForSdkUpdates = /*#__PURE__*/function () {\n  var _ref7 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n    var _yield$RESTController2, response, latestVersion, installedVersion;\n\n    return _regenerator.default.wrap(function (_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.prev = 0;\n            _context8.next = 3;\n            return _RESTController.default.ajax('GET', 'https://www.unpkg.com/moralis/package.json');\n\n          case 3:\n            _yield$RESTController2 = _context8.sent;\n            response = _yield$RESTController2.response;\n            latestVersion = response.version;\n            installedVersion = \"1.3.2\";\n            if (isSemanticVersionLarger(latestVersion, installedVersion)) // eslint-disable-next-line no-console\n              console.warn(\"You are not using the latest version of the SDK. Please update it as soon as possible to enjoy the newest features. Most recent version: \".concat(latestVersion));\n            _context8.next = 12;\n            break;\n\n          case 10:\n            _context8.prev = 10;\n            _context8.t0 = _context8[\"catch\"](0);\n\n          case 12:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee3, null, [[0, 10]]);\n  }));\n\n  return function () {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  fetchSwaggerJson: fetchSwaggerJson,\n  getPathByTag: getPathByTag,\n  fetchEndpoints: fetchEndpoints,\n  checkForSdkUpdates: checkForSdkUpdates\n};","map":{"version":3,"sources":["/Users/hshahir/Downloads/Personal/web3.0-AirBnB-Clone/node_modules/moralis/lib/browser/utils.js"],"names":["_interopRequireDefault","require","_map","_entries","_forEach","_keys","_isNan","_regenerator","_slicedToArray2","_asyncToGenerator2","_RESTController","DEEP_INDEX_API_HOST","DEEP_INDEX_SWAGGER_PATH","fetchSwaggerJson","_ref","default","mark","_callee","_yield$RESTController","response","wrap","_context","prev","next","ajax","concat","sent","abrupt","stop","apply","arguments","getPathByTag","swaggerJSON","_context2","pathByTag","pathDetails","paths","call","_ref2","_context3","_ref3","pathName","requestData","_ref4","_ref5","method","data","tags","length","push","operationId","fetchEndpoints","_ref6","_callee2","_context4","_yield$getPathByTag","_context5","x","item","endpoint","toUpperCase","group","name","url","split","join","isSemanticVersionLarger","version1","version2","_context6","_context7","_version1$split","_version1$split2","version1Main","version1Pre","version1Arr","s","Number","_version2$split","_version2$split2","version2Main","version2Pre","version2Arr","index","compare1","compare2","_version1Pre$split$","_version2Pre$split$","version1PreNumber","version2PreNumber","checkForSdkUpdates","_ref7","_callee3","_yield$RESTController2","latestVersion","installedVersion","_context8","version","console","warn","t0","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _entries = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/entries\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _isNan = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/number/is-nan\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _RESTController = _interopRequireDefault(require(\"./RESTController\"));\n\nvar DEEP_INDEX_API_HOST = 'deep-index.moralis.io';\nvar DEEP_INDEX_SWAGGER_PATH = '/api-docs/v2/swagger.json';\n\nvar fetchSwaggerJson = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n    var _yield$RESTController, response;\n\n    return _regenerator.default.wrap(function (_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _RESTController.default.ajax('GET', \"https://\".concat(DEEP_INDEX_API_HOST).concat(DEEP_INDEX_SWAGGER_PATH));\n\n          case 2:\n            _yield$RESTController = _context.sent;\n            response = _yield$RESTController.response;\n            return _context.abrupt(\"return\", response);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function () {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getPathByTag = function (swaggerJSON) {\n  var _context2;\n\n  var pathByTag = {};\n  var pathDetails = {};\n  (0, _map.default)(_context2 = (0, _entries.default)(swaggerJSON.paths)).call(_context2, function (_ref2) {\n    var _context3;\n\n    var _ref3 = (0, _slicedToArray2.default)(_ref2, 2),\n        pathName = _ref3[0],\n        requestData = _ref3[1];\n\n    return (0, _forEach.default)(_context3 = (0, _entries.default)(requestData)).call(_context3, function (_ref4) {\n      var _ref5 = (0, _slicedToArray2.default)(_ref4, 2),\n          method = _ref5[0],\n          data = _ref5[1];\n\n      var tags = data.tags;\n\n      if (tags.length > 0) {\n        if (!pathByTag[tags[0]]) {\n          pathByTag[tags[0]] = [];\n        }\n\n        pathByTag[tags[0]].push(data.operationId);\n        pathDetails[data.operationId] = {\n          method: method,\n          pathName: pathName,\n          data: data\n        };\n      }\n    });\n  });\n  return {\n    pathByTag: pathByTag,\n    pathDetails: pathDetails\n  };\n};\n\nvar fetchEndpoints = /*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n    var _context4;\n\n    var swaggerJSON, _yield$getPathByTag, pathDetails, data;\n\n    return _regenerator.default.wrap(function (_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return fetchSwaggerJson();\n\n          case 2:\n            swaggerJSON = _context5.sent;\n            _context5.next = 5;\n            return getPathByTag(swaggerJSON);\n\n          case 5:\n            _yield$getPathByTag = _context5.sent;\n            pathDetails = _yield$getPathByTag.pathDetails;\n            data = [];\n            (0, _forEach.default)(_context4 = (0, _keys.default)(pathDetails)).call(_context4, function (x) {\n              var item = pathDetails[x];\n              var endpoint = {\n                method: item.method.toUpperCase(),\n                group: item.data.tags[0],\n                name: x,\n                url: item.pathName.split('{').join(':').split('}').join('')\n              };\n              data.push(endpoint);\n            });\n            return _context5.abrupt(\"return\", data);\n\n          case 10:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function () {\n    return _ref6.apply(this, arguments);\n  };\n}();\n/**\n * Compares if the semantic version of version1 is larger than version2\n */\n\n\nvar isSemanticVersionLarger = function (version1, version2) {\n  var _context6, _context7;\n\n  var _version1$split = version1.split('-'),\n      _version1$split2 = (0, _slicedToArray2.default)(_version1$split, 2),\n      version1Main = _version1$split2[0],\n      version1Pre = _version1$split2[1];\n\n  var version1Arr = (0, _map.default)(_context6 = version1Main.split('.')).call(_context6, function (s) {\n    return Number(s);\n  });\n\n  var _version2$split = version2.split('-'),\n      _version2$split2 = (0, _slicedToArray2.default)(_version2$split, 2),\n      version2Main = _version2$split2[0],\n      version2Pre = _version2$split2[1];\n\n  var version2Arr = (0, _map.default)(_context7 = version2Main.split('.')).call(_context7, function (s) {\n    return Number(s);\n  });\n\n  for (var index = 0; index < 3; index++) {\n    var compare1 = version1Arr[index];\n    var compare2 = version2Arr[index];\n    if (compare1 > compare2) return true;\n    if (compare1 < compare2) return false;\n    if (!(0, _isNan.default)(compare1) && (0, _isNan.default)(compare2)) return true;\n    if ((0, _isNan.default)(compare1) && !(0, _isNan.default)(compare2)) return false;\n  } // Compare pre-releasees if main versions are the same\n\n\n  if (version1Pre && version2Pre) {\n    var _version1Pre$split$, _version2Pre$split$;\n\n    var version1PreNumber = (_version1Pre$split$ = version1Pre.split('.')[1]) !== null && _version1Pre$split$ !== void 0 ? _version1Pre$split$ : 0;\n    var version2PreNumber = (_version2Pre$split$ = version2Pre.split('.')[1]) !== null && _version2Pre$split$ !== void 0 ? _version2Pre$split$ : 0;\n    return version1PreNumber > version2PreNumber;\n  } // If version2 is a pre-release and version1 is not, then version 1 is newer\n\n\n  if (version2Pre) {\n    return true;\n  }\n\n  return false;\n};\n\nvar checkForSdkUpdates = /*#__PURE__*/function () {\n  var _ref7 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n    var _yield$RESTController2, response, latestVersion, installedVersion;\n\n    return _regenerator.default.wrap(function (_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.prev = 0;\n            _context8.next = 3;\n            return _RESTController.default.ajax('GET', 'https://www.unpkg.com/moralis/package.json');\n\n          case 3:\n            _yield$RESTController2 = _context8.sent;\n            response = _yield$RESTController2.response;\n            latestVersion = response.version;\n            installedVersion = \"1.3.2\";\n            if (isSemanticVersionLarger(latestVersion, installedVersion)) // eslint-disable-next-line no-console\n              console.warn(\"You are not using the latest version of the SDK. Please update it as soon as possible to enjoy the newest features. Most recent version: \".concat(latestVersion));\n            _context8.next = 12;\n            break;\n\n          case 10:\n            _context8.prev = 10;\n            _context8.t0 = _context8[\"catch\"](0);\n\n          case 12:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee3, null, [[0, 10]]);\n  }));\n\n  return function () {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  fetchSwaggerJson: fetchSwaggerJson,\n  getPathByTag: getPathByTag,\n  fetchEndpoints: fetchEndpoints,\n  checkForSdkUpdates: checkForSdkUpdates\n};"]},"metadata":{},"sourceType":"script"}